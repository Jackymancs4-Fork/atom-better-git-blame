'use babel';
import NodeColorGradient from 'node-color-gradient';
import * as GitData from '../data/GitData';
import * as ConfigManager from '../ConfigManager';
let editors = {};
let datePromises = {};
let cachedGradients = {};
export async function colorScale(editor) {
    const projectDir = await GitData.getRepoRootPath(editor.getPath());
    if (cachedGradients[projectDir]) {
        return cachedGradients[projectDir];
    }
    let firstCommitDate = await datePromises[projectDir];
    const totalDays = Math.floor((Date.now() - firstCommitDate.getTime()) / 1000 / 3600 / 24);
    const gradient = calculateScale(totalDays);
    cachedGradients[projectDir] = gradient;
    return gradient;
}
export function setEditor(editor) {
    return GitData.getRepoRootPath(editor.getPath()).then(projectDir => {
        if (editors[projectDir]) {
            return;
        }
        editors[projectDir] = editor;
        datePromises[projectDir] = GitData.getFirstCommitDateForRepo(editor.getPath());
    });
}
function calculateScale(steps) {
    const scale = ConfigManager.get('colorScale');
    switch (scale) {
        case 'RoyalPomegranate': {
            return new NodeColorGradient([
                [63, 116, 212],
                [60, 125, 199],
                [55, 136, 228],
                [78, 161, 216],
                [83, 175, 202],
                [96, 202, 197],
                [127, 225, 221],
                [167, 239, 236],
                [203, 248, 247],
                [255, 255, 255],
                [253, 245, 234],
                [251, 231, 204],
                [246, 208, 158],
                [243, 179, 99],
                [240, 159, 96],
                [240, 141, 89],
                [239, 128, 88],
                [238, 115, 73],
                [237, 98, 59],
                [235, 62, 37],
            ]).getGradient(steps);
        }
        case 'ChocolateMint': {
            return new NodeColorGradient([
                [140, 81, 10],
                [191, 129, 45],
                [223, 194, 125],
                [246, 232, 195],
                [245, 245, 245],
                [199, 234, 229],
                [128, 205, 193],
                [53, 151, 143],
                [1, 102, 94],
            ]).getGradient(steps);
        }
        case 'VioletApple': {
            return new NodeColorGradient([
                [197, 27, 125],
                [222, 119, 174],
                [241, 182, 218],
                [253, 224, 239],
                [247, 247, 247],
                [230, 245, 208],
                [184, 225, 134],
                [127, 188, 65],
                [77, 146, 33],
            ]).getGradient(steps);
        }
        case 'AffairGoblin': {
            return new NodeColorGradient([
                [118, 42, 131],
                [153, 112, 171],
                [194, 165, 207],
                [231, 212, 232],
                [247, 247, 247],
                [217, 240, 211],
                [166, 219, 160],
                [90, 174, 97],
                [27, 120, 55],
            ]).getGradient(steps);
        }
        case 'GoldDaisy': {
            return new NodeColorGradient([
                [179, 88, 6],
                [224, 130, 20],
                [253, 184, 99],
                [254, 224, 182],
                [247, 247, 247],
                [216, 218, 235],
                [178, 171, 210],
                [128, 115, 172],
                [84, 39, 136],
            ]).getGradient(steps);
        }
        case 'PoppyLochmara': {
            return new NodeColorGradient([
                [178, 24, 43],
                [214, 96, 77],
                [244, 165, 130],
                [253, 219, 199],
                [247, 247, 247],
                [209, 229, 240],
                [146, 197, 222],
                [67, 147, 195],
                [33, 102, 172],
            ]).getGradient(steps);
        }
        case 'PersianSteel': {
            return new NodeColorGradient([
                [215, 48, 39],
                [244, 109, 67],
                [253, 174, 97],
                [254, 224, 144],
                [255, 255, 191],
                [224, 243, 248],
                [171, 217, 233],
                [116, 173, 209],
                [69, 117, 180],
            ]).getGradient(steps);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sb3VyU2NhbGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9saWIvaW50ZXJmYWNlL0NvbG91clNjYWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVcsQ0FBQztBQUlaLE9BQU8saUJBQWlCLE1BQU0scUJBQXFCLENBQUM7QUFDcEQsT0FBTyxLQUFLLE9BQU8sTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEtBQUssYUFBYSxNQUFNLGtCQUFrQixDQUFDO0FBRWxELElBQUksT0FBTyxHQUFnQyxFQUFFLENBQUM7QUFDOUMsSUFBSSxZQUFZLEdBQXNDLEVBQUUsQ0FBQztBQUN6RCxJQUFJLGVBQWUsR0FBd0MsRUFBRSxDQUFDO0FBRTlELE1BQU0sQ0FBQyxLQUFLLHFCQUFxQixNQUFlO0lBQzlDLE1BQU0sVUFBVSxHQUFHLE1BQU0sT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNuRSxFQUFFLENBQUMsQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLE1BQU0sQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELElBQUksZUFBZSxHQUFTLE1BQU0sWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzNELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQzFCLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLGVBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUM1RCxDQUFDO0lBQ0YsTUFBTSxRQUFRLEdBQUcsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzNDLGVBQWUsQ0FBQyxVQUFVLENBQUMsR0FBRyxRQUFRLENBQUM7SUFDdkMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUNsQixDQUFDO0FBRUQsTUFBTSxvQkFBb0IsTUFBZTtJQUN2QyxNQUFNLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVTtRQUM5RCxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLE1BQU0sQ0FBQztRQUNULENBQUM7UUFDRCxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQzdCLFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRyxPQUFPLENBQUMseUJBQXlCLENBQzFELE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FDakIsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELHdCQUF3QixLQUFhO0lBQ25DLE1BQU0sS0FBSyxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDOUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNkLEtBQUssa0JBQWtCLEVBQUUsQ0FBQztZQUN4QixNQUFNLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztnQkFDM0IsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZCxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNkLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2QsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZCxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNkLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2QsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUNkLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBQ2QsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztnQkFDZCxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUNkLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBQ2QsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztnQkFDYixDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO2FBQ2QsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QixDQUFDO1FBQ0QsS0FBSyxlQUFlLEVBQUUsQ0FBQztZQUNyQixNQUFNLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztnQkFDM0IsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztnQkFDYixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUNkLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNkLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7YUFDYixDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLENBQUM7UUFDRCxLQUFLLGFBQWEsRUFBRSxDQUFDO1lBQ25CLE1BQU0sQ0FBQyxJQUFJLGlCQUFpQixDQUFDO2dCQUMzQixDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDO2dCQUNkLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBQ2QsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQzthQUNkLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEIsQ0FBQztRQUNELEtBQUssY0FBYyxFQUFFLENBQUM7WUFDcEIsTUFBTSxDQUFDLElBQUksaUJBQWlCLENBQUM7Z0JBQzNCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUM7Z0JBQ2QsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztnQkFDYixDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2FBQ2QsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QixDQUFDO1FBQ0QsS0FBSyxXQUFXLEVBQUUsQ0FBQztZQUNqQixNQUFNLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztnQkFDM0IsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDWixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUNkLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUM7Z0JBQ2QsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUM7YUFDZCxDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLENBQUM7UUFDRCxLQUFLLGVBQWUsRUFBRSxDQUFDO1lBQ3JCLE1BQU0sQ0FBQyxJQUFJLGlCQUFpQixDQUFDO2dCQUMzQixDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDO2dCQUNiLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQ2IsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2QsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQzthQUNmLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEIsQ0FBQztRQUNELEtBQUssY0FBYyxFQUFFLENBQUM7WUFDcEIsTUFBTSxDQUFDLElBQUksaUJBQWlCLENBQUM7Z0JBQzNCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQ2IsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQztnQkFDZCxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDO2dCQUNkLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2dCQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7Z0JBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztnQkFDZixDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO2FBQ2YsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QixDQUFDO0lBQ0gsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcblxuaW1wb3J0IHsgYWxsb3dVbnNhZmVFdmFsLCBhbGxvd1Vuc2FmZU5ld0Z1bmN0aW9uIH0gZnJvbSAnbG9vcGhvbGUnO1xuaW1wb3J0IElFZGl0b3IgPSBBdG9tQ29yZS5JRWRpdG9yO1xuaW1wb3J0IE5vZGVDb2xvckdyYWRpZW50IGZyb20gJ25vZGUtY29sb3ItZ3JhZGllbnQnO1xuaW1wb3J0ICogYXMgR2l0RGF0YSBmcm9tICcuLi9kYXRhL0dpdERhdGEnO1xuaW1wb3J0ICogYXMgQ29uZmlnTWFuYWdlciBmcm9tICcuLi9Db25maWdNYW5hZ2VyJztcblxubGV0IGVkaXRvcnM6IHsgW3Byb3A6IHN0cmluZ106IElFZGl0b3IgfSA9IHt9O1xubGV0IGRhdGVQcm9taXNlczogeyBbcHJvcDogc3RyaW5nXTogUHJvbWlzZTxEYXRlPiB9ID0ge307XG5sZXQgY2FjaGVkR3JhZGllbnRzOiB7IFtwcm9wOiBzdHJpbmddOiBBcnJheTxudW1iZXJbXT4gfSA9IHt9O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29sb3JTY2FsZShlZGl0b3I6IElFZGl0b3IpIHtcbiAgY29uc3QgcHJvamVjdERpciA9IGF3YWl0IEdpdERhdGEuZ2V0UmVwb1Jvb3RQYXRoKGVkaXRvci5nZXRQYXRoKCkpO1xuICBpZiAoY2FjaGVkR3JhZGllbnRzW3Byb2plY3REaXJdKSB7XG4gICAgcmV0dXJuIGNhY2hlZEdyYWRpZW50c1twcm9qZWN0RGlyXTtcbiAgfVxuICBsZXQgZmlyc3RDb21taXREYXRlOiBEYXRlID0gYXdhaXQgZGF0ZVByb21pc2VzW3Byb2plY3REaXJdO1xuICBjb25zdCB0b3RhbERheXMgPSBNYXRoLmZsb29yKFxuICAgIChEYXRlLm5vdygpIC0gZmlyc3RDb21taXREYXRlLmdldFRpbWUoKSkgLyAxMDAwIC8gMzYwMCAvIDI0XG4gICk7XG4gIGNvbnN0IGdyYWRpZW50ID0gY2FsY3VsYXRlU2NhbGUodG90YWxEYXlzKTtcbiAgY2FjaGVkR3JhZGllbnRzW3Byb2plY3REaXJdID0gZ3JhZGllbnQ7XG4gIHJldHVybiBncmFkaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEVkaXRvcihlZGl0b3I6IElFZGl0b3IpIHtcbiAgcmV0dXJuIEdpdERhdGEuZ2V0UmVwb1Jvb3RQYXRoKGVkaXRvci5nZXRQYXRoKCkpLnRoZW4ocHJvamVjdERpciA9PiB7XG4gICAgaWYgKGVkaXRvcnNbcHJvamVjdERpcl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWRpdG9yc1twcm9qZWN0RGlyXSA9IGVkaXRvcjtcbiAgICBkYXRlUHJvbWlzZXNbcHJvamVjdERpcl0gPSBHaXREYXRhLmdldEZpcnN0Q29tbWl0RGF0ZUZvclJlcG8oXG4gICAgICBlZGl0b3IuZ2V0UGF0aCgpXG4gICAgKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNjYWxlKHN0ZXBzOiBudW1iZXIpIHtcbiAgY29uc3Qgc2NhbGUgPSBDb25maWdNYW5hZ2VyLmdldCgnY29sb3JTY2FsZScpO1xuICBzd2l0Y2ggKHNjYWxlKSB7XG4gICAgY2FzZSAnUm95YWxQb21lZ3JhbmF0ZSc6IHtcbiAgICAgIHJldHVybiBuZXcgTm9kZUNvbG9yR3JhZGllbnQoW1xuICAgICAgICBbNjMsIDExNiwgMjEyXSxcbiAgICAgICAgWzYwLCAxMjUsIDE5OV0sXG4gICAgICAgIFs1NSwgMTM2LCAyMjhdLFxuICAgICAgICBbNzgsIDE2MSwgMjE2XSxcbiAgICAgICAgWzgzLCAxNzUsIDIwMl0sXG4gICAgICAgIFs5NiwgMjAyLCAxOTddLFxuICAgICAgICBbMTI3LCAyMjUsIDIyMV0sXG4gICAgICAgIFsxNjcsIDIzOSwgMjM2XSxcbiAgICAgICAgWzIwMywgMjQ4LCAyNDddLFxuICAgICAgICBbMjU1LCAyNTUsIDI1NV0sXG4gICAgICAgIFsyNTMsIDI0NSwgMjM0XSxcbiAgICAgICAgWzI1MSwgMjMxLCAyMDRdLFxuICAgICAgICBbMjQ2LCAyMDgsIDE1OF0sXG4gICAgICAgIFsyNDMsIDE3OSwgOTldLFxuICAgICAgICBbMjQwLCAxNTksIDk2XSxcbiAgICAgICAgWzI0MCwgMTQxLCA4OV0sXG4gICAgICAgIFsyMzksIDEyOCwgODhdLFxuICAgICAgICBbMjM4LCAxMTUsIDczXSxcbiAgICAgICAgWzIzNywgOTgsIDU5XSxcbiAgICAgICAgWzIzNSwgNjIsIDM3XSxcbiAgICAgIF0pLmdldEdyYWRpZW50KHN0ZXBzKTtcbiAgICB9XG4gICAgY2FzZSAnQ2hvY29sYXRlTWludCc6IHtcbiAgICAgIHJldHVybiBuZXcgTm9kZUNvbG9yR3JhZGllbnQoW1xuICAgICAgICBbMTQwLCA4MSwgMTBdLFxuICAgICAgICBbMTkxLCAxMjksIDQ1XSxcbiAgICAgICAgWzIyMywgMTk0LCAxMjVdLFxuICAgICAgICBbMjQ2LCAyMzIsIDE5NV0sXG4gICAgICAgIFsyNDUsIDI0NSwgMjQ1XSxcbiAgICAgICAgWzE5OSwgMjM0LCAyMjldLFxuICAgICAgICBbMTI4LCAyMDUsIDE5M10sXG4gICAgICAgIFs1MywgMTUxLCAxNDNdLFxuICAgICAgICBbMSwgMTAyLCA5NF0sXG4gICAgICBdKS5nZXRHcmFkaWVudChzdGVwcyk7XG4gICAgfVxuICAgIGNhc2UgJ1Zpb2xldEFwcGxlJzoge1xuICAgICAgcmV0dXJuIG5ldyBOb2RlQ29sb3JHcmFkaWVudChbXG4gICAgICAgIFsxOTcsIDI3LCAxMjVdLFxuICAgICAgICBbMjIyLCAxMTksIDE3NF0sXG4gICAgICAgIFsyNDEsIDE4MiwgMjE4XSxcbiAgICAgICAgWzI1MywgMjI0LCAyMzldLFxuICAgICAgICBbMjQ3LCAyNDcsIDI0N10sXG4gICAgICAgIFsyMzAsIDI0NSwgMjA4XSxcbiAgICAgICAgWzE4NCwgMjI1LCAxMzRdLFxuICAgICAgICBbMTI3LCAxODgsIDY1XSxcbiAgICAgICAgWzc3LCAxNDYsIDMzXSxcbiAgICAgIF0pLmdldEdyYWRpZW50KHN0ZXBzKTtcbiAgICB9XG4gICAgY2FzZSAnQWZmYWlyR29ibGluJzoge1xuICAgICAgcmV0dXJuIG5ldyBOb2RlQ29sb3JHcmFkaWVudChbXG4gICAgICAgIFsxMTgsIDQyLCAxMzFdLFxuICAgICAgICBbMTUzLCAxMTIsIDE3MV0sXG4gICAgICAgIFsxOTQsIDE2NSwgMjA3XSxcbiAgICAgICAgWzIzMSwgMjEyLCAyMzJdLFxuICAgICAgICBbMjQ3LCAyNDcsIDI0N10sXG4gICAgICAgIFsyMTcsIDI0MCwgMjExXSxcbiAgICAgICAgWzE2NiwgMjE5LCAxNjBdLFxuICAgICAgICBbOTAsIDE3NCwgOTddLFxuICAgICAgICBbMjcsIDEyMCwgNTVdLFxuICAgICAgXSkuZ2V0R3JhZGllbnQoc3RlcHMpO1xuICAgIH1cbiAgICBjYXNlICdHb2xkRGFpc3knOiB7XG4gICAgICByZXR1cm4gbmV3IE5vZGVDb2xvckdyYWRpZW50KFtcbiAgICAgICAgWzE3OSwgODgsIDZdLFxuICAgICAgICBbMjI0LCAxMzAsIDIwXSxcbiAgICAgICAgWzI1MywgMTg0LCA5OV0sXG4gICAgICAgIFsyNTQsIDIyNCwgMTgyXSxcbiAgICAgICAgWzI0NywgMjQ3LCAyNDddLFxuICAgICAgICBbMjE2LCAyMTgsIDIzNV0sXG4gICAgICAgIFsxNzgsIDE3MSwgMjEwXSxcbiAgICAgICAgWzEyOCwgMTE1LCAxNzJdLFxuICAgICAgICBbODQsIDM5LCAxMzZdLFxuICAgICAgXSkuZ2V0R3JhZGllbnQoc3RlcHMpO1xuICAgIH1cbiAgICBjYXNlICdQb3BweUxvY2htYXJhJzoge1xuICAgICAgcmV0dXJuIG5ldyBOb2RlQ29sb3JHcmFkaWVudChbXG4gICAgICAgIFsxNzgsIDI0LCA0M10sXG4gICAgICAgIFsyMTQsIDk2LCA3N10sXG4gICAgICAgIFsyNDQsIDE2NSwgMTMwXSxcbiAgICAgICAgWzI1MywgMjE5LCAxOTldLFxuICAgICAgICBbMjQ3LCAyNDcsIDI0N10sXG4gICAgICAgIFsyMDksIDIyOSwgMjQwXSxcbiAgICAgICAgWzE0NiwgMTk3LCAyMjJdLFxuICAgICAgICBbNjcsIDE0NywgMTk1XSxcbiAgICAgICAgWzMzLCAxMDIsIDE3Ml0sXG4gICAgICBdKS5nZXRHcmFkaWVudChzdGVwcyk7XG4gICAgfVxuICAgIGNhc2UgJ1BlcnNpYW5TdGVlbCc6IHtcbiAgICAgIHJldHVybiBuZXcgTm9kZUNvbG9yR3JhZGllbnQoW1xuICAgICAgICBbMjE1LCA0OCwgMzldLFxuICAgICAgICBbMjQ0LCAxMDksIDY3XSxcbiAgICAgICAgWzI1MywgMTc0LCA5N10sXG4gICAgICAgIFsyNTQsIDIyNCwgMTQ0XSxcbiAgICAgICAgWzI1NSwgMjU1LCAxOTFdLFxuICAgICAgICBbMjI0LCAyNDMsIDI0OF0sXG4gICAgICAgIFsxNzEsIDIxNywgMjMzXSxcbiAgICAgICAgWzExNiwgMTczLCAyMDldLFxuICAgICAgICBbNjksIDExNywgMTgwXSxcbiAgICAgIF0pLmdldEdyYWRpZW50KHN0ZXBzKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==