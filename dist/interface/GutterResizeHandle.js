'use babel';
import StyleHelper from './StyleHelper';
import { Emitter } from 'atom';
class GutterResizeHandle {
    constructor() {
        this.handleElement = document.createElement('div');
        const style = new StyleHelper(this.handleElement.style);
        style.setStyle({
            position: 'absolute',
            width: '4px',
            background: 'transparent',
            right: 0,
            top: 0,
            bottom: 0,
            cursor: 'col-resize',
        });
        this.emitter = new Emitter();
        this.boundMouseDownListener = this.mouseDownListener.bind(this);
        this.boundMouseUpListener = this.mouseUpListener.bind(this);
        this.boundMouseMoveListener = this.mouseMoveListener.bind(this);
        this.handleElement.addEventListener('mousedown', this.boundMouseDownListener);
    }
    mouseDownListener(event) {
        this.initialPosition = event.screenX;
        document.addEventListener('mouseup', this.boundMouseUpListener);
        document.addEventListener('mousemove', this.boundMouseMoveListener);
        this.emitter.emit('resizeHandleClicked', event.screenX);
    }
    mouseUpListener(event) {
        document.removeEventListener('mousemove', this.boundMouseMoveListener);
        document.removeEventListener('mouseup', this.boundMouseUpListener);
        this.emitter.emit('resizeHandleReleased', event.screenX);
    }
    mouseMoveListener(event) {
        this.emitter.emit('resizeHandleDragged', event.screenX - this.initialPosition);
    }
    element() {
        return this.handleElement;
    }
}
export default GutterResizeHandle;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR3V0dGVyUmVzaXplSGFuZGxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL2ludGVyZmFjZS9HdXR0ZXJSZXNpemVIYW5kbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDO0FBRVosT0FBTyxXQUFXLE1BQU0sZUFBZSxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFL0I7SUFRRTtRQUNFLElBQUksQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxNQUFNLEtBQUssR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hELEtBQUssQ0FBQyxRQUFRLENBQUM7WUFDYixRQUFRLEVBQUUsVUFBVTtZQUNwQixLQUFLLEVBQUUsS0FBSztZQUNaLFVBQVUsRUFBRSxhQUFhO1lBQ3pCLEtBQUssRUFBRSxDQUFDO1lBQ1IsR0FBRyxFQUFFLENBQUM7WUFDTixNQUFNLEVBQUUsQ0FBQztZQUNULE1BQU0sRUFBRSxZQUFZO1NBQ3JCLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FDakMsV0FBVyxFQUNYLElBQUksQ0FBQyxzQkFBc0IsQ0FDNUIsQ0FBQztJQUNKLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxLQUFpQjtRQUN6QyxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDckMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNoRSxRQUFRLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRU8sZUFBZSxDQUFDLEtBQWlCO1FBQ3ZDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDdkUsUUFBUSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVPLGlCQUFpQixDQUFDLEtBQWlCO1FBQ3pDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUNmLHFCQUFxQixFQUNyQixLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQ3JDLENBQUM7SUFDSixDQUFDO0lBRU0sT0FBTztRQUNaLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzVCLENBQUM7Q0FDRjtBQUVELGVBQWUsa0JBQWtCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcblxuaW1wb3J0IFN0eWxlSGVscGVyIGZyb20gJy4vU3R5bGVIZWxwZXInO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJ2F0b20nO1xuXG5jbGFzcyBHdXR0ZXJSZXNpemVIYW5kbGUge1xuICBoYW5kbGVFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcbiAgaW5pdGlhbFBvc2l0aW9uOiBudW1iZXI7XG4gIGJvdW5kTW91c2VEb3duTGlzdGVuZXI6IEV2ZW50TGlzdGVuZXI7XG4gIGJvdW5kTW91c2VVcExpc3RlbmVyOiBFdmVudExpc3RlbmVyO1xuICBib3VuZE1vdXNlTW92ZUxpc3RlbmVyOiBFdmVudExpc3RlbmVyO1xuICBlbWl0dGVyOiBFbWl0dGVyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHN0eWxlID0gbmV3IFN0eWxlSGVscGVyKHRoaXMuaGFuZGxlRWxlbWVudC5zdHlsZSk7XG4gICAgc3R5bGUuc2V0U3R5bGUoe1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB3aWR0aDogJzRweCcsXG4gICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBjdXJzb3I6ICdjb2wtcmVzaXplJyxcbiAgICB9KTtcbiAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIHRoaXMuYm91bmRNb3VzZURvd25MaXN0ZW5lciA9IHRoaXMubW91c2VEb3duTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmJvdW5kTW91c2VVcExpc3RlbmVyID0gdGhpcy5tb3VzZVVwTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmJvdW5kTW91c2VNb3ZlTGlzdGVuZXIgPSB0aGlzLm1vdXNlTW92ZUxpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnbW91c2Vkb3duJyxcbiAgICAgIHRoaXMuYm91bmRNb3VzZURvd25MaXN0ZW5lclxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIG1vdXNlRG93bkxpc3RlbmVyKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5pbml0aWFsUG9zaXRpb24gPSBldmVudC5zY3JlZW5YO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLmJvdW5kTW91c2VVcExpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmJvdW5kTW91c2VNb3ZlTGlzdGVuZXIpO1xuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdyZXNpemVIYW5kbGVDbGlja2VkJywgZXZlbnQuc2NyZWVuWCk7XG4gIH1cblxuICBwcml2YXRlIG1vdXNlVXBMaXN0ZW5lcihldmVudDogTW91c2VFdmVudCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuYm91bmRNb3VzZU1vdmVMaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYm91bmRNb3VzZVVwTGlzdGVuZXIpO1xuICAgIHRoaXMuZW1pdHRlci5lbWl0KCdyZXNpemVIYW5kbGVSZWxlYXNlZCcsIGV2ZW50LnNjcmVlblgpO1xuICB9XG5cbiAgcHJpdmF0ZSBtb3VzZU1vdmVMaXN0ZW5lcihldmVudDogTW91c2VFdmVudCkge1xuICAgIHRoaXMuZW1pdHRlci5lbWl0KFxuICAgICAgJ3Jlc2l6ZUhhbmRsZURyYWdnZWQnLFxuICAgICAgZXZlbnQuc2NyZWVuWCAtIHRoaXMuaW5pdGlhbFBvc2l0aW9uXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBlbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmhhbmRsZUVsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR3V0dGVyUmVzaXplSGFuZGxlO1xuIl19